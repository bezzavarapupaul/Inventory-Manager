{"ast":null,"code":"import { inject } from '@angular/core';\nimport { Router } from '@angular/router';\nexport const authGuard = () => {\n  const router = inject(Router);\n  // ✅ Only run in browser environment\n  if (typeof window !== 'undefined') {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      // Instead of alert() (which SSR cannot run), use console log\n      console.log(\"Unauthorized! Redirecting to login...\");\n      router.navigate(['/']);\n      return false;\n    }\n    return true;\n  }\n  // When SSR executes, always return true (so server won't crash)\n  return true;\n};","map":{"version":3,"names":["inject","Router","authGuard","router","window","token","localStorage","getItem","console","log","navigate"],"sources":["D:\\LocalPractice\\inventory-manager\\src\\app\\auth.guard.ts"],"sourcesContent":["import { inject } from '@angular/core';\r\nimport { Router, CanActivateFn } from '@angular/router';\r\n\r\nexport const authGuard: CanActivateFn = () => {\r\n  const router = inject(Router);\r\n\r\n  // ✅ Only run in browser environment\r\n  if (typeof window !== 'undefined') {\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    if (!token) {\r\n      // Instead of alert() (which SSR cannot run), use console log\r\n      console.log(\"Unauthorized! Redirecting to login...\");\r\n      router.navigate(['/']);\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  // When SSR executes, always return true (so server won't crash)\r\n  return true;\r\n};\r\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,eAAe;AACtC,SAASC,MAAM,QAAuB,iBAAiB;AAEvD,OAAO,MAAMC,SAAS,GAAkBA,CAAA,KAAK;EAC3C,MAAMC,MAAM,GAAGH,MAAM,CAACC,MAAM,CAAC;EAE7B;EACA,IAAI,OAAOG,MAAM,KAAK,WAAW,EAAE;IACjC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAI,CAACF,KAAK,EAAE;MACV;MACAG,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;MACpDN,MAAM,CAACO,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;MACtB,OAAO,KAAK;IACd;IAEA,OAAO,IAAI;EACb;EAEA;EACA,OAAO,IAAI;AACb,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}